{"version":3,"sources":["../../src/pages/messages/messages.module.ts","../../src/pages/messages/messages.ts"],"names":[],"mappings":"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","file":"13.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { MessagesPage } from './messages';\nimport { TranslateModule, TranslateLoader} from '@ngx-translate/core';\n\n@NgModule({\n  declarations: [\n    MessagesPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(MessagesPage),\n    TranslateModule,\n  ],\n})\nexport class MessagesPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/messages/messages.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams ,LoadingController,AlertController} from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\nimport {PoviderForAllProvider} from '../../providers/povider-for-all/povider-for-all';\nimport { TranslateService, LangChangeEvent } from '@ngx-translate/core';\nimport { LanguageModel } from \"../../models/language.model\";\nimport { LanguageServiceProvider } from '../../providers/language-service/language-service';\nimport { Events } from 'ionic-angular';\n\n/**\n * Generated class for the MessagesPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage({\n  name:'page-messages'\n})\n@Component({\n  selector: 'page-messages',\n  templateUrl: 'messages.html',\n})\nexport class MessagesPage {\n  contentData:any;\n  showStatus:any;\n  pet:any;\n  user:any;\n  token:any;\n  loading:any;\n  lanCss:any;\n  messages: Array<any> = [];\n  messages2: Array<any> = [];\n  languageSelected : any;\n  languages : Array<LanguageModel>;\n  selectOptions:any;\n  constructor(public languageService: LanguageServiceProvider,public navCtrl: NavController, public navParams: NavParams,public storage:Storage,public events: Events,\n    public loadingCtrl:LoadingController,public poviderForAllProvider:PoviderForAllProvider,public alertCtrl:AlertController,public translate: TranslateService,) {\n    this.languages = this.languageService.getLanguages();  \n    this.getUserDetails();  \n    this.getMessages();\n    this.pet='featured';\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad MessagesPage');\n  }\n  getToken(){\n    console.log(\"GET TOKEN\");\n      this.storage.get('user').then((val) => {\n        this.user = val.token;\n        console.log(\"User TOKEN == \"+this.user);\n      });\n    \n    }\n\n\n    getMessages() {\n      // this.showLoader();\n          console.log(\"GET MESSAGE\");\n          this.storage.get('user').then((val) => {\n            console.log(\"USER == \"+JSON.stringify(val));\n              if (val) {\n                  this.token = val.token;\n                  this.poviderForAllProvider.getMessages('https://sapir.app/wp-json/mobileapi/get_notification_data', this.token).subscribe(data => {\n                    console.log(\"MESSAGE RESPONSE == \"+JSON.stringify(data));\n                  if(data.msg_data==\"No Notification\"){\n                      // this.loading.dismiss();\n                      console.log(\"NO NOTIFICATION ====== \"+data.msg_data);\n                  }else{\n                      let count = data.msg_data.length;\n                      console.log(\"MESSAGE ==========\" + count);\n                      if(count>0){\n                          // this.loading.dismiss();\n                      for (let i = 0; i < count; i++) {\n                          console.log(\" i = \" + i + \" data.msg_data \" + data.msg_data[i]);\n                          this.messages.push(data.msg_data[i]);\n                      }\n                     }else{\n                      // this.loading.dismiss();\n                      }\n\n                      }\n                      console.log(\"DATTA == \" + JSON.stringify(data));\n                  });\n              }\n          });\n      // this.messages = this.service.getMessages();\n    }\n\n  // read msg\n  readMsg(msg){\n\n   let id = msg.id;\n   let match = this.messages.find(x => x.id === id)\n   console.log(\"MATCH === \",match);\n   let messageIndex = this.messages.indexOf(match);\n\n   let status = this.messages[messageIndex].read_status; \n   console.log(\"STATUS == \"+status);\n   if(status ==1){\n    this.messages[messageIndex].read_status =0;\n   }else{\n    this.messages[messageIndex].read_status =1;\n   }\n   \n  console.log(\"MEssage ===============================\"+JSON.stringify(msg)+\" INDEX ++++===== \"+messageIndex);\n  this.poviderForAllProvider.readMessage('https://sapir.app/wp-json/mobileapi/get_notification_data', this.token,msg.id).subscribe(res=>{\n  \n  // this.showAlert(msg.msg_title); \n  // this.navCtrl.setRoot('page-messages');\n\n  })\n \n  }\n\n  showAlert(msg) {\n    const prompt = this.alertCtrl.create({\n      title: 'MESSAGE!',\n      message: msg,\n      \n      buttons: [ \n        {\n          text: 'Close',\n          handler: data => {\n            // this.navCtrl.setRoot('page-messages');\n            console.log('Saved clicked');\n          }\n        }\n      ]\n    });\n    prompt.present();\n\n  }\n\n  showLoader(){\n    this.loading = this.loadingCtrl.create({\n      content: 'Please wait...'\n    });\n    this.loading.present();\n  }\n\n\n// accordian //\n\naddContent(showStatus){\n  this.contentData='All the thing about Technology! Informatic technology especially.All the thing about Technology! Informatic technology especially.';\n  this.showStatus=!showStatus;\n  console.log(showStatus);\n}\ntoggleGroup(events) {\n  console.log(\"EVENTS === \",events);\n  console.log(this.showStatus);\n  if (this.showStatus) {\n    this.showStatus = false;\n  } else {\n    this.showStatus = true;\n  }\n};\nisGroupShown = function() {\n  return  this.showStatus;\n};\n\n//end\ngetUserDetails(){\n  this.storage.get('user').then(details =>{\n    console.table(details);\n    this.translate.use(details.selected_language);\n    console.log(\"user language ======= \",details.selected_language);\n    this.selectOptions = {\n      cssClass: this.lanCss,\n    };\n  })\n  let defaultLanguage = this.translate.getDefaultLang();\n    this.languageSelected = defaultLanguage;\n    this.lanCss= defaultLanguage;\n}\n\n\n// Languages\nsetLanguage(){\n    \n  let defaultLanguage = this.translate.getDefaultLang();\n  console.log(\"LANGUAGE === \"+defaultLanguage);\n  if(this.languageSelected){\n    this.translate.setDefaultLang(this.languageSelected);\n    this.translate.use(this.languageSelected);\n    this.storage.get('user').then(details =>{\n      this.poviderForAllProvider.UpdateLanguage('https://sapir.app/wp-json/mobileapi/update_app_language',details.token,this.languageSelected).subscribe(val=>{\n      console.log(\"Change Language === \",val);   \n      })\n      console.table(details);\n      details.selected_language=this.languageSelected;\n      console.log(\"user details\",details);\n      this.storage.set('user',details);\n      this.events.publish('lan:created', details.selected_language); \n\n    })\n  }else{\n    this.languageSelected = defaultLanguage;\n    this.translate.use(defaultLanguage);\n\n  }\n  this.selectOptions = {\n    cssClass: this.lanCss,\n  };\n}\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/messages/messages.ts"],"sourceRoot":""}